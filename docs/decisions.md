# Architectural Decisions Log

This document logs the key architectural and design decisions made throughout the project in chronological order.

| Date       | Decision                               | Rationale                                                                                                                                                           | Trade-offs                                                                                             |
|------------|----------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------------------------------------------------------------|
| 2025-09-10 | Store data in Parquet format.          | Efficient columnar storage is ideal for analytics with pandas and the scale of telematics data.                                                                       | Not as human-readable as CSV for quick checks.                                                         |
| 2025-09-10 | Use FastAPI for the API.               | A modern, high-performance Python web framework that's easy to use and includes automatic OpenAPI documentation.                                                     | Newer than Flask/Django, so the talent pool might be slightly smaller.                                 |
| 2025-09-10 | Use Streamlit for the dashboard.       | Enables rapid development of data-centric web apps directly from Python scripts, perfect for a POC.                                                                 | Less customizable for complex UI/UX compared to frontend frameworks like React/Vue.                    |
| 2025-09-10 | Anonymize all driver data.             | A foundational privacy-by-design choice. All PII is removed or replaced with synthetic IDs to protect driver privacy and comply with regulations.                     | Limits certain location-based features (e.g., mapping to specific road types) but is a necessary safeguard. |
| 2025-09-11 | Use GBDT for the risk model.           | GBDTs provide state-of-the-art performance on tabular data and can capture non-linear interactions. SHAP can be used for interpretability.                            | More complex to tune than linear models.                                                               |
| 2025-09-11 | Focus purely on telematics data.       | To prove the core hypothesis that driving behavior is predictive of risk. This also enhances transparency, as the score is based entirely on the driver's own actions. | The model does not incorporate external signals (e.g., weather, traffic), which could add lift in a future version. |
| 2025-09-11 | Use a proxy label for the POC.         | **(Note)** A synthetic label (risk = high `p95_speed`) was used as a realistic proxy to enable end-to-end development without real claims data.                     | The model learns to predict speed, not true claim risk. A production model would require real claims data. |
| 2025-09-11 | Calibrate model probabilities.         | Raw model outputs are not true probabilities. Calibration (Isotonic Regression) is essential to ensure a predicted score of 80% corresponds to an 80% real-world risk. | Adds a step to the training pipeline, slightly increasing complexity.                                   |
| 2025-09-12 | Implement pricing guardrails.          | Prevents extreme price volatility from the model. Ensures fairness and stability for the customer by capping/flooring premiums and smoothing changes.               | May slightly reduce theoretical profitability on extreme risk segments, but ensures business viability.     |
| 2025-09-12 | Define a 7-year data retention policy. | A formal policy is required for regulatory compliance (e.g., GDPR) and internal auditing.                                                                       | Requires robust storage and data lifecycle management processes.                                       |